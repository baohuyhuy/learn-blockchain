# Há»‡ Thá»‘ng GiÃ¡m SÃ¡t Giao Dá»‹ch Solana

Há»‡ thá»‘ng giÃ¡m sÃ¡t giao dá»‹ch real-time cho blockchain Solana, Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng Python.

## Cáº¥u TrÃºc Dá»± Ãn

```
â”œâ”€â”€ data_structures.py          # Cáº¥u trÃºc dá»¯ liá»‡u cho giao dá»‹ch
â”œâ”€â”€ step1_websocket_logs.py     # Sá»­ dá»¥ng WebSocket cá»§a Solana Ä‘á»ƒ nháº­n logs
â”œâ”€â”€ step2_transaction_details.py # Láº¥y chi tiáº¿t giao dá»‹ch qua HTTP RPC (API cá»§a Solana)
â”œâ”€â”€ wallet_monitor.py           # Káº¿t há»£p WebSocket vÃ  HTTP Ä‘á»ƒ giÃ¡m sÃ¡t vÃ­
â”œâ”€â”€ main.py                     # HÃ m chÃ­nh Ä‘á»ƒ cháº¡y á»©ng dá»¥ng
â”œâ”€â”€ requirements.txt            # CÃ¡c thÆ° viá»‡n Python cáº§n thiáº¿t
â”œâ”€â”€ README.md                  
```

## CÃ¡c ThÃ nh Pháº§n

### 1. `data_structures.py`
- Chá»©a dataclass `TransactionDetails`
- Äá»‹nh dáº¡ng cÃ³ cáº¥u trÃºc cho dá»¯ liá»‡u giao dá»‹ch Ä‘Ã£ Ä‘Æ°á»£c parse

### 2. `step1_websocket_logs.py`
- Lá»›p `SolanaLogsSubscriber`
- WebSocket client Ä‘á»ƒ nháº­n logs Solana real-time
- Xá»­ lÃ½ subscription cho logs cá»§a vÃ­ cá»¥ thá»ƒ hoáº·c táº¥t cáº£ logs

### 3. `step2_transaction_details.py`
- Lá»›p `SolanaTransactionDetailsFetcher`  
- HTTP client Ä‘á»ƒ láº¥y thÃ´ng tin chi tiáº¿t giao dá»‹ch
- Parse dá»¯ liá»‡u giao dá»‹ch thÃ´ thÃ nh Ä‘á»‹nh dáº¡ng cÃ³ cáº¥u trÃºc

### 4. `wallet_monitor.py`
- Lá»›p `SolanaWalletMonitor`
- Káº¿t há»£p WebSocket logs + HTTP details fetching
- Chá»©c nÄƒng giÃ¡m sÃ¡t chÃ­nh

### 5. `main.py`
- Äiá»ƒm khá»Ÿi cháº¡y á»©ng dá»¥ng
- CÃ¡c hÃ m demo vÃ  giao diá»‡n ngÆ°á»i dÃ¹ng
- Lá»±a chá»n network vÃ  cáº¥u hÃ¬nh

## SÆ¡ Äá»“ Luá»“ng Chi Tiáº¿t

### ğŸ”„ **Workflow Tá»•ng Quan**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SOLANA WALLET MONITOR                        â”‚
â”‚                     (wallet_monitor.py)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              KHá»I Táº O Há»† THá»NG                        â”‚
        â”‚  â€¢ Chá»n network (devnet/testnet/mainnet)              â”‚
        â”‚  â€¢ Khá»Ÿi táº¡o WebSocket Subscriber (Step 1)             â”‚
        â”‚  â€¢ Khá»Ÿi táº¡o Transaction Fetcher (Step 2)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 Báº®t Äáº¦U GIÃM SÃT                      â”‚
        â”‚  â€¢ Káº¿t ná»‘i WebSocket tá»›i Solana RPC                   â”‚
        â”‚  â€¢ ÄÄƒng kÃ½ logs cho wallet cá»¥ thá»ƒ                     â”‚
        â”‚  â€¢ Báº¯t Ä‘áº§u vÃ²ng láº·p chá» transaction                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   CHá»œ TRANSACTION   â”‚
                    â”‚   (WebSocket Logs)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              NHáº¬N ÄÆ¯á»¢C TRANSACTION                    â”‚
        â”‚  WebSocket nháº­n Ä‘Æ°á»£c log chá»©a signature               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            TRÃCH XUáº¤T SIGNATURE                       â”‚
        â”‚  â€¢ Parse log message                                  â”‚
        â”‚  â€¢ Láº¥y transaction signature                          â”‚
        â”‚  â€¢ Validate signature format                          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Láº¤Y CHI TIáº¾T TRANSACTION (HTTP)               â”‚
        â”‚  â€¢ Gá»i getTransaction API                             â”‚
        â”‚  â€¢ Retry logic vá»›i rate limiting                      â”‚
        â”‚  â€¢ Xá»­ lÃ½ timeout vÃ  error                             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              PARSE Dá»® LIá»†U                            â”‚
        â”‚  â€¢ TÃ­nh toÃ¡n balance changes                          â”‚
        â”‚  â€¢ XÃ¡c Ä‘á»‹nh sender/receiver                           â”‚
        â”‚  â€¢ PhÃ¢n loáº¡i transaction type                         â”‚
        â”‚  â€¢ Táº¡o TransactionDetails object                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            HIá»‚N THá»Š THÃ”NG TIN                         â”‚
        â”‚  â€¢ Format vÃ  in transaction details                   â”‚
        â”‚  â€¢ Cáº­p nháº­t thá»‘ng kÃª                                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Äáº T MAX TX?        â”‚
                    â”‚     (Kiá»ƒm tra)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚         â”‚
                         ChÆ°a      Rá»“i
                           â”‚         â”‚
                           â–¼         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   TIáº¾P Tá»¤C GIÃM SÃT â”‚  â”‚  Káº¾T THÃšC VÃ€     â”‚
            â”‚  (Quay láº¡i chá»)     â”‚  â”‚ HIá»‚N THá»Š THá»NG KÃŠâ”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                         â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Chi Tiáº¿t Tá»«ng BÆ°á»›c**

#### Step 1: WebSocket Logs Subscriber** (`step1_websocket_logs.py`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WEBSOCKET LOGS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Káº¿t ná»‘i WebSocket tá»›i Solana RPC                             â”‚
â”‚    â”œâ”€â”€ URL: wss://api.devnet.solana.com                         â”‚
â”‚    â”œâ”€â”€ Timeout: 30 giÃ¢y                                         â”‚
â”‚    â””â”€â”€ Auto reconnect on disconnect                             â”‚
â”‚                                                                 â”‚
â”‚ 2. Gá»­i logsSubscribe request                                    â”‚
â”‚    â”œâ”€â”€ Filter theo wallet address                               â”‚
â”‚    â”œâ”€â”€ Commitment level: "processed"                            â”‚
â”‚    â””â”€â”€ Nháº­n subscription ID                                     â”‚
â”‚                                                                 â”‚
â”‚ 3. Láº¯ng nghe logs real-time                                     â”‚
â”‚    â”œâ”€â”€ Parse JSON messages                                      â”‚
â”‚    â”œâ”€â”€ Extract signature tá»« logs                                â”‚
â”‚    â””â”€â”€ Gá»­i signature tá»›i Step 2                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step 2: Transaction Details Fetcher** (`step2_transaction_details.py`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   HTTP TRANSACTION FETCHER                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Rate Limiting & Request Management                           â”‚
â”‚    â”œâ”€â”€ Delay 0.1s giá»¯a cÃ¡c request                              â”‚
â”‚    â”œâ”€â”€ Max 3 láº§n retry                                          â”‚
â”‚    â””â”€â”€ Timeout 30s cho má»—i request                              â”‚
â”‚                                                                 â”‚
â”‚ 2. Build getTransaction Request                                 â”‚
â”‚    â”œâ”€â”€ Method: "getTransaction"                                 â”‚
â”‚    â”œâ”€â”€ Params: [signature, encoding, commitment]                â”‚
â”‚    â””â”€â”€ Request ID tracking                                      â”‚
â”‚                                                                 â”‚
â”‚ 3. HTTP POST tá»›i Solana RPC                                     â”‚
â”‚    â”œâ”€â”€ URL: https://api.devnet.solana.com                       â”‚
â”‚    â”œâ”€â”€ Headers: Content-Type, User-Agent                        â”‚
â”‚    â””â”€â”€ JSON payload                                             â”‚
â”‚                                                                 â”‚
â”‚ 4. Error Handling                                               â”‚
â”‚    â”œâ”€â”€ HTTP 429 (Rate limit) â†’ Retry vá»›i backoff                â”‚
â”‚    â”œâ”€â”€ RPC errors (-32602, -32603) â†’ Retry                      â”‚
â”‚    â”œâ”€â”€ Network timeout â†’ Retry                                  â”‚
â”‚    â””â”€â”€ Transaction not found â†’ Retry (chá» finalization)         â”‚
â”‚                                                                 â”‚
â”‚ 5. Parse Transaction Data                                       â”‚
â”‚    â”œâ”€â”€ Extract: slot, blockTime, fee, balances                  â”‚
â”‚    â”œâ”€â”€ Calculate balance changes                                â”‚
â”‚    â”œâ”€â”€ Identify sender/receiver                                 â”‚
â”‚    â”œâ”€â”€ Determine transaction type                               â”‚
â”‚    â””â”€â”€ Create TransactionDetails object                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Transaction Type Classification**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PHÃ‚N LOáº I TRANSACTION                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ System Program (11111...1111) trong account_keys?               â”‚
â”‚ â”œâ”€â”€ YES + SOL transfer > 0 â†’ SOL_TRANSFER                       â”‚
â”‚ â””â”€â”€ YES + SOL transfer = 0 â†’ SYSTEM_OPERATION                   â”‚
â”‚                                                                 â”‚
â”‚ Token Program (TokenkegQf...) trong account_keys?               â”‚
â”‚ â””â”€â”€ YES â†’ TOKEN_TRANSFER                                        â”‚
â”‚                                                                 â”‚
â”‚ KhÃ´ng cÃ³ program nÃ o Ä‘Æ°á»£c nháº­n diá»‡n?                            â”‚
â”‚ â””â”€â”€ CONTRACT_CALL                                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Data Structures Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Dá»® LIá»†U TRANSACTION                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ Raw WebSocket Log â†’ Signature String                            â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚ HTTP RPC Response â†’ Raw Transaction JSON                        â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚ TransactionDetails Object:                                      â”‚
â”‚ â”œâ”€â”€ signature: str                                              â”‚
â”‚ â”œâ”€â”€ timestamp: str                                              â”‚
â”‚ â”œâ”€â”€ slot: int                                                   â”‚
â”‚ â”œâ”€â”€ fee_sol: float                                              â”‚
â”‚ â”œâ”€â”€ status: str (SUCCESS/FAILED)                                â”‚
â”‚ â”œâ”€â”€ account_keys: List[str]                                     â”‚
â”‚ â”œâ”€â”€ from_account: Optional[str]                                 â”‚
â”‚ â”œâ”€â”€ to_account: Optional[str]                                   â”‚
â”‚ â”œâ”€â”€ sol_transfer_amount: float                                  â”‚
â”‚ â”œâ”€â”€ balance_changes: List[Dict]                                 â”‚
â”‚ â”œâ”€â”€ transaction_type: str                                       â”‚
â”‚ â”œâ”€â”€ program_ids: List[str]                                      â”‚
â”‚ â””â”€â”€ raw_transaction_data: Dict                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Performance & Error Handling**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Xá»¬ LÃ Lá»–I VÃ€ HIá»†U SUáº¤T                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ WebSocket Errors:                                               â”‚
â”‚ â”œâ”€â”€ Connection lost â†’ Auto reconnect                            â”‚
â”‚ â”œâ”€â”€ Invalid message â†’ Skip vÃ  continue                          â”‚
â”‚ â””â”€â”€ Subscription failed â†’ Retry subscription                    â”‚
â”‚                                                                 â”‚
â”‚ HTTP Errors:                                                    â”‚
â”‚ â”œâ”€â”€ Rate limit (429) â†’ Exponential backoff                      â”‚
â”‚ â”œâ”€â”€ Timeout â†’ Retry vá»›i increased timeout                       â”‚
â”‚ â”œâ”€â”€ RPC error â†’ Conditional retry                               â”‚
â”‚ â””â”€â”€ Network error â†’ Retry vá»›i delay                             â”‚
â”‚                                                                 â”‚
â”‚ Performance Tracking:                                           â”‚
â”‚ â”œâ”€â”€ Request counter                                             â”‚
â”‚ â”œâ”€â”€ Success/failure rates                                       â”‚
â”‚ â”œâ”€â”€ Response times                                              â”‚
â”‚ â””â”€â”€ Statistics reporting                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## CÃ i Äáº·t

```bash
pip install -r requirements.txt
```

## CÃ¡ch Sá»­ Dá»¥ng

### Cháº¡y monitor chÃ­nh:
```bash
python main.py
```

### Import cÃ¡c thÃ nh pháº§n riÃªng láº»:
```python
from wallet_monitor import SolanaWalletMonitor
from data_structures import TransactionDetails
```

## TÃ­nh NÄƒng

- GiÃ¡m sÃ¡t giao dá»‹ch real-time thÃ´ng qua WebSocket cá»§a Solana
- Parse chi tiáº¿t giao dá»‹ch thÃ´ng qua HTTP RPC (API cá»§a Solana)
- Há»— trá»£ Devnet, Testnet vÃ  Mainnet
- Logic retry tá»± Ä‘á»™ng vÃ  rate limiting
- PhÃ¡t hiá»‡n loáº¡i giao dá»‹ch (chuyá»ƒn SOL, chuyá»ƒn token, v.v.)
- Theo dÃµi thay Ä‘á»•i sá»‘ dÆ°
- Thá»‘ng kÃª hiá»‡u suáº¥t

## Há»— Trá»£ Network

- **Devnet**: Máº¡ng phÃ¡t triá»ƒn Ä‘á»ƒ thá»­ nghiá»‡m
- **Testnet**: Máº¡ng thá»­ nghiá»‡m vá»›i test tokens  
- **Mainnet**: Máº¡ng Solana production
